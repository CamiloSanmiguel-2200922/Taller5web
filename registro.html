<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>

function calculateAge(birthDate) {
      // Get today's date
      const today = new Date();

      // Parse birth date string into a Date object
      const birthDateObj = new Date(birthDate);

      // Calculate age in milliseconds
      const ageMs = today - birthDateObj;

      // Convert milliseconds to years (round down to nearest whole year)
      const age = Math.floor(ageMs / (1000 * 60 * 60 * 24 * 365));

      // Display age using alert
      $('#age').text(`años cumplidos : ${age}`);;
}


function emailVerifier(email) {
  const regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return regex.test(email);
}

function userVerifier(username) {
  const regex = /^[a-zA-Z0-9]+$/;
  return regex.test(username);
}


function passVerifier(password) {
  const regex = /^(?=.*[¡¿!#$%&'()*+,-./:;<=>?@\[\]^_{|}~])[A-Za-z0-9¡¿!#$%&'()*+,-./:;<=>?@\[\]^_{|}~]{8,}$/;
  return regex.test(password);
}



    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div style="display: flex; align-items: center; height: 100vh; justify-content: center;">
    <div class="box">
        <h1 class="h1">Registro de usuarios</h1><br>
        <div class="control has-icons-left has-icons-right">
            <input class="input" type="text" placeholder="Nombre">
            <span class="icon is-left">
                <i class="fas fa-user"></i>
            </span>
        </div>
        <br>
        <div class="control has-icons-left has-icons-right">
            <input class="input" type="text" placeholder="Apellido">
            <span class="icon is-left">
                <i class="fas fa-user"></i>
            </span>
        </div>
        <br>
        <div>Fecha de nacimiento
            <input id="formDate" class="input" type="date" onchange="calculateAge(this.value)">
            <p id="age">
            </p>
        </div>
        <br>
        <div class="control has-icons-left has-icons-right">
            <input class="input" type="email" placeholder="Correo" onchange="document.getElementById('emailChecked').hidden = !(emailVerifier(this.value))">
            <span class="icon is-left">
                <i class="fas fa-envelope"></i>
            </span>
            <span class="icon is-right">
                <p id="emailChecked" hidden><i class="fas fa-check"></i></p>
            </span>
        </div>
        <br>
        <div class="control has-icons-left has-icons-right">
            <input class="input" type="text" placeholder="Nombre de usuario" onchange="document.getElementById('userChecked').hidden = !(userVerifier(this.value))">
            <span class="icon is-left">
                <i class="fas fa-circle-user"></i>
            </span>
            <span class="icon is-right">
                <p id="userChecked" hidden><i class="fas fa-check"></i></p>
            </span>
        </div>
        <br>
        <div class="control has-icons-left has-icons-right">
            <input id="passwordInput" class="input" type="password" placeholder="Contraseña" onchange="document.getElementById('passChecked').hidden = !(passVerifier(this.value))">
            <span class="icon is-left">
                <i class="fas fa-lock"></i>
            </span>
            <span class="icon is-right">
                <p id="passChecked" hidden><i class="fas fa-check"></i></p>
            </span>
        </div>
        <br>
        <div class="control has-icons-left has-icons-right">
            <input class="input" type="password" placeholder="Confirmar contraseña" onchange="document.getElementById('passChecked2').hidden = !(this.value == document.getElementById('passwordInput').value)">
            <span class="icon is-left">
                <i class="fas fa-lock"></i>
            </span>
            <span class="icon is-right">
                <p id="passChecked2" hidden><i class="fas fa-check"></i></p>
            </span>
        </div>


        <br>
        <div>
            <h6 class="h6">¿Tiene alguna enfermedad?</h6>Marque la casilla para si: <input type="checkbox" onchange="document.getElementById('sick').hidden = !this.checked">
        </div>
        <div id="sick" class="control has-icons-left has-icons-right" hidden>
            <input class="input" type="text" placeholder="¿Que enfermedad tiene?">
            <span class="icon is-left">
                <i class="fas fa-biohazard"></i>
            </span>
        </div>
        <input class="button is-link" type="button" onclick="window.location.href = 'index.html';" value="Ir a menu">
    </div>
</div>
</body>
</html>